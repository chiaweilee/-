# 计算机原理

https://www.educity.cn/tiku/dp106110011121-1.html

## 计算机系统

冯·诺依曼模型计算机的硬件由五大部件组成，分别为`运算器`、`控制器`、`存储器`、`输入设备`和`输出设备`，其核心部分为`中央处理器`(由`运算器`、`控制器`、`存储器`构成)，`使计算机可运行预先存锗的指令序列`

### CPU

确定中断优先级的原则是：对那些提出中断请求后需要立刻处理，否则就会造成严重后果的中断源规定最高的优先级，而对那些可以延迟响应和处理的中断源规定较低的优先级。如故障中断一般优先级较高， 接着才是I/O设备中断，而在IO设备中又可以根据各个设备的速度来决定优先级

CPU接收到中断请求信号后，`当前指令周期结束时`CPU才允许中断(开中)

计算机指令由`操作码`和`地址码`构成

`程序控制`即`指令的执行顺序`。程序中的各指令之间是有严格顺序的，必须严格按程序规定的顺序执行，才能保证计算机系统工作的正确性；
`操作控制`是指一条指令的功能往往是由计算机中的部件执行一系列的操作来实现的。CPU要根据指令的功能，产生相应的操作控制信号，发给相应的部件，从而控制这些部件按指令的要求进行动作；
`时间控制`就是对各种操作实施时间上的定时；
`数据加工`即对数据进行`算术运算和逻辑运算`，或进行其他的信息处理

`取数指令`有`MDR`、`LAD`等；
寄存器间的`数据传送指令`有`MOV`、`PUSH`、`POP`等；
`加法指令`有`ADD`、`ADC`、`AAA`等；
`存数指令`有`STO`等

### 存储器

`存储器地址寄存器`是`用来保存当前CPU所要访问的内存单元或I/设备的地址`

`Cache`是`高速缓冲存储器`，是介于中央处理器和主存储器之间的高速小容量存储器

存储系统通常采用的三级存储器体系结构`高速缓冲存储器`、`主存储器`和`外存储器`

存储器按所处位置及功能分类为`内部存储器`和`外部存储器`；
按存储介质分类为`半导体存储器`、`磁表面存储器`和`光材料存储器`；
按信息的可保护性分类为`易失性存储`、`非易失性存储`;
按存取方式分类，存储器分为：`随机存取存储器`、`只读存储器`、`顺序存取存储器`和`直接存取存储器`

`存储周期时间`是指内部存储器进行两次连续、独立的读(或写)操作所需的时间间隔；
`存取时间`又称`存储器访问时间`，是指从启动一次存储器操作到完成该操作所经历的时间；
`读/写时间`：存储器从接收读出命令到被读出信息稳定在数据寄存器的输出端为止的时间间隔
`刷新时间`是动态存储器定时刷新时间

`关联存储器`(又译作`相联存储器`)也称为按内容访问存储器或简称为TLB；它是一种不根据地址而是`根据存储内容进行`存取的存储器,可以实现快速地查找快表

`段页式虚拟存储器`是段式和页式虚拟存储器结合，每个程序按模块分段，每段再划分页。`一张段表，每段对应有一张页表`

### 寄存器

`指令寄存器`是存放CPU `从内存取出的待执行指令`

`双向移位寄存器`不可同时向左、向右各移—位，它是根据每个时间脉冲依次向左或右移动一个

### 控制器

`控制器`用于控制着整个CPU的工作。通过数据总线，由CPU并行地把数据写入控制器，或从控制器中并行地读出数据

控制器的实现方法类型有`组合逻辑型`、`存储逻辑型`、`门阵列型`

### 输入输出

`DMA方式`是由外围设备和主存之间直接进行数据传输的输入输出的控制方式

程序查询方式接口中的`数据缓冲寄存器`是用来暂存`CPU和外设之间传送的数据`

在外围设备采用独立编址方式的I/O系统中，`专门I/O的指令`用于实现输入输出操作

`异步接口`是指实现CPU与I/O之间的信息交换的接口

### 运算器

运算器主要由`算数逻辑运算部件（ALU）`和用来暂存数据的或存放运算结果的一系列寄存器组件

`算术运算指令`是计算机能够执行的基本数值计算，包括加法ADD、减法SUB、乘法MUL、除法DIV等

`逻辑运算指令`是对数据进行逻辑操作，包括逻辑与AND、逻辑或OR、逻辑非NOT等三种基本操作以及同或、异或等组合逻辑操作

### 软件

MTTR 是衡量计算机性能指标可维护性；
MTBF是衡量计算机可靠性的性能指标；
MIPS是衡量计算机运算速度的性能指标；
主频是CPU内核工作的时钟频率；

ASCII码值在128-255间的ASCII码称作扩展的ASCII码。一个ASCII码值占一个字节(8个二进制位)

汉字编码有输`输入码`、`内码`、`字型码`三种
计算机进行汉字处理，编码为`汉字输入码`；
`汉字内部码`：进行信息处理；
`汉字字型码`：显示器或打印机输出

应用软件有：`办公室软件`、`分析软件`、`互联网软件`和`协作软件`等。

## 二进制、原码、反码、补码

### 原码、反码、补码

计算原码只要在转化的二进制数前面加上相应的符号位就行了
原码：转化为二进制数，在最前面添加一符号位，用1表示负数，0表示正数
0000 0000是一个字节，第一个0为符号位，其它七位表示二进制的值

当X为正数时，[X]<sub>补</sub> = [X]<sub>原</sub> = X

当X为负数时，[X]<sub>补</sub>等于把[X]<sub>原</sub>符号位外的各位求反后再末位加"1"，已知[X]<sub>补</sub>，也可以通过对其除符号位外的各位求反后再末位加"1"求得[X]<sub>原</sub>

[+0]原码=0000 0000 [-0]原码=1000 0000
[+0]反码=0000 0000 [-0]反码=1111 1111
[+0]补码=0000 0000 [-0]补码=0000 0000

[-1]原码=1000 0001
[-1]反码=1111 1110
[-1]补码=1111 1111

### 变形补码
变形补码，即用两个二进制位来表示数字的符号位，其余与补码相同

用“00”表示正，用“11”表示负

当运算结果的符号位出现“01”或者“10”时，则表示产生溢出

变形补码的最高位（第一个符号位）总是表示正确的符号，比如"00"、 “01”分别表示正数、正溢出（上溢），"11"、“10”表示负数、负溢出（下溢）

定点补码加法运算采用变形补码检测法时，表明数据发生了溢出的是`两个符号位不同`

#### 己知二进制数x=-01111，y=+11001，用变形补码（双符号位）计算x-y，同时指出运算结果是否溢出

```
[x]补 = 11 10001   （1 分）

[-y]补 = 11 00111   （1 分）

[x]补       11 10001
[-y]补     +11 00111
────────────────
[x-y]补    =10 11000   （1 分）

符号位的代码为10，表示运算结果发生"负溢"   （1 分）
```

原码：实现乘除运算规则较简单

补数：方便地执行正负任意数的加减运算，实现变减运算为加运算

### 二进制

#### 计算机为什么用二进制数？

- 容易实现，二进制在技术上最容易实现，可以用任何一个具有两种不同稳定状态的 物理器件来表示两个数码“0”或者“1” 。 （2 分）
- 工作可靠。由于采用两种稳定状态来表示数码，因此在采用这类元器件制造的计算 机中，就可以用电平的“高”、“低”或脉冲的“有”、“无”来分别传送和处理数据“1” 和“0”。这种简单工作状态的计算机具有工作可靠、抗干扰能力强的特点。（1 分）
- 运算简单。二进制运算规则非常简单，操作实现简便，从而简化了计算机内部运算、 寄存器的线路，提高了机器的运算速度。 （1 分）
- 便于逻辑运算与逻辑设计。二进制中的 0 和 1 数字与逻辑代数的 0 和 1 值吻合，所 以计算机可以方便地用二进制数进行逻辑运算与逻辑设计，并且可以使用逻辑代数 这一数学工具对计算机逻辑线路进行分析和综合，便于机器结构的简化。（1 分）

### 整数：除2取余
#### -27可以用字长为8位的补码表示为：11100101

```
2 │ 27        取余数
  └───────────     低位
   2 │ 13       1   ↑
     └────────     高位
   2 │ 6        1
     └────────
   2 │ 3        0
     └────────
   2 │ 1        1
     └────────
       0        1
```

取补码：10011011 → *11100101*

### 小数：乘2取整

#### 14.35转换成二进制数

```
2 │ 14
  └───────────
   2 │ 7       1
     └────────
   2 │ 3       1
     └────────
   2 │ 1       1
     └────────
       0       1
```

```
    0.35
  ×    2    取整数
─────────
    0.70      0    高位
  ×    2            ↓
─────────          低位
    1.40      1
  ×    2
─────────
    0.80      0
  ×    2
─────────
    1.60      1
  ×    2
─────────
    1.20      1
```

(14.35)<sub>10</sub> = (1111.01011)<sub>2</sub>

## 逻辑计算

### 异或(eor) ⊕

1真，0假

| a | b | a⊕b | a·b | a+b |
| ---- | ---- | ---- | ---- | ---- |
| 0 | 0 | 0 | 0 | 0 |
| 0 | 1 | 1 | 0 | 1 |
| 1 | 0 | 1 | 0 | 1 |
| 1 | 1 | 0 | 1 | 1 |

### 真值表

用真值表证明下式成立：A+BC=(A+B)(A+C)

真值表(3分):

| A | B | C | BC | A+BC | A+B | A+C | (A+B)(A+C) |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 0 | 0 | 1 | 0 | 0 | 0 | 1 | 0 |
| 0 | 1 | 0 | 0 | 0 | 1 | 0 | 0 |
| 0 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |
| 1 | 0 | 0 | 0 | 1 | 1 | 1 | 1 |
| 1 | 0 | 1 | 0 | 1 | 1 | 1 | 1 |
| 1 | 1 | 0 | 0 | 1 | 1 | 1 | 1 |
| 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

从真值表可知，A+BC=(A+B)(A+C)    (1分)



## 未归类

硬件乘法器，其基础就是加法器结构，基于“左移位和相加”的算法

### 应用软件有：办公室软件、分析软件、互联网软件和协作软件等
