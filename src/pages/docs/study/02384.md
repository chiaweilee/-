# 计算机原理

https://www.educity.cn/tiku/dp106110011121-1.html

## 1 计算机系统概述
### 1.1 计算机发展简史 (0/0/0)
### 1.2 计算机系统 (2/4/4)
### 1.3 计算机系统的技术指标 (2/0/0)
## 2 数字逻辑基础
### 2.1 逻辑代数与逻辑门 (11/4/11)
### 2.2 组合逻辑电路 (2/2/2)
### 2.3 常用时序电路 (2/9/2)
## 3 计算机中的信息表示
### 3.1 数值型数据的表示 (8/13/10)
### 3.2 非数值型数据的表示 (2/0/5)
### 3.3 数据校验码 (0/0/0)
### 3.4 指令信息的表示 (0/0/0)
## 4 运算方法级运算器
### 4.1 定点补码加、减法运算 (13/8/8)
### 4.2 定点乘法运算 (2/0/0)
### 4.3 定点除法运算 (0/0/2)
### 4.4 逻辑运算 (0/0/0)
### 4.5 浮点运算 (0/0/0)
### 4.6 运算器 (2/9/7)
## 5 中央处理器
### 5.1 CPU的功能与组成 (2/13/6)
### 5.2 指令周期 (5/0/5)
### 5.3 时序信号产生器与时序控制方式 (2/2/2)
### 5.4 微操作及其实现 (4/0/4)
### 5.5 组合逻辑控制器 (7/0/0)
### 5.6 微程序控制器 (4/0/2)
### 5.7 现代CPU设计技术 (0/6/0)
## 6 存储器与存储系统
### 6.1 概述 (4/0/0)
### 6.2 随机存取存储器 (4/0/8)
### 6.3 只读存储器 (2/5/0)
### 6.4 高速存储器 (5/0/2)
### 6.5 高速缓冲存储器 (0/8/5)
### 6.6 虚拟存储器 (0/2/0)
## 7 输入输出系统
### 7.1 输入输出系统概述 (9/7/6)
### 7.2 输入/输出控制方式 (2/0/5)
### 7.3 中断控制方式 (2/0/2)
### 7.4 DMA传送方式 (2/4/2)
### 7.5 其他传送控制方式 (0/2/0)
### 7.6 外围设备 (0/2/0)

```js
(function() {
const result = {};
const el = document.querySelectorAll('.three');
const v = document.querySelectorAll('.three + li');
for (let i =0; i<el.length;i++) {
    const t = el[i];
    const key = t.innerText;
    if (key !== '所属知识点') {
      const value = v[i].innerText;
      if (!result[key]) result[key] = 0;
      result[key] += Number(value);
    }
}
console.warn(result);
})();
```

## 计算机系统概述
### 计算机系统

计算机系统硬件由`运算器`、`控制器`、`存储器`和`输入输出设备`组成

计算机总线通常包括`数据总线`、`地址总线`和`控制总线`

计算机系统结构的层次结构由低到高分别为：`数据逻辑`、`微程序机器级`、`传统机器语言机器级`、`操作系统机器级`、`汇编语言机器级`、`高级语言机器级`

### 计算机系统的技术指标

衡量计算机系统的技术指标主要是：`机器字长`、`内存容量`和`运算速度`

## 数字逻辑基础
### 组合逻辑电路

组合逻辑电路`全加器`、`译码器`、`数据选择器`

将指定的数码翻译为相应的状态输出，使其输出端中相应的一路有信号输出。这样的组合逻辑电路器件称为`译码器`

### 常用时序电路

双向移位寄存器`不可同时向左、向右各移—位`，它是根据每个时间脉冲`依次向左或右移动一个`

## 运算方法及运算器
### 运算器

运算器的核心功能部件是由`算数逻辑单元`、`通用寄存器`、`状态字寄存器`和有关的判断逻辑、局部控制电路和内部总线等组成

双向总线，就是信息可以向两个方向传送，能够`发送数据和接受数据`

### 定点补码加、减法计算

由于在`补码`表示的情况下，可以将数值位和符号为统一处理，并能将减法转换为加法，因此在定点二进制运算中，`减法运算一般通过补码运算的二进制加法器来实现`

在采用单符号的进位判溢出的补码运算中，当最高数值位有向符号位的进位，那么必定有`符号位更高位的进位`

### 定点乘法运算

在补码一位乘法算法 (Booth算法)中, 需`将部分积右移一位`

## 中央处理器
### CPU的功能与组成

(1)CPU中控制器主要组成部分有：`程序计数器`、`指令寄存器`、`指令译码器`、`微命令发生器`等。

(2)控制器的基本功能：`取指令`、`分析指令`、`执行指令`。

根据CPU总线所处的位置分为`内部`与`外部`

`控制器`是整个CPU的指挥控制中心，由`指令寄存器IR`、`程序计数器PC`和`操作控制器0C`三个部件组成

`存储器地址寄存器`是用来`保存当前CPU所要访问的内存单元或I/设备的地址`

在程序开始执行前，必须将它的`起始地址`，即程序的一条指令所在的内存单元地址送入`程序计数器PC`。

### 时序信号产生器与时序控制方式

CPU采取的时序控制方式中，其设计思想是在部件内部采用同步方式或以同步方式为主的控制方式，在部件之间采用异步方式的是`联合控制方式`

`异步控制`作为主要控制方式的是`系统总线上的传送操作`

### 现代CPU技术

在流水计算机设计中，解决`数据`相关冲突的一种办法是在运算部件和取数部件之闻设置直接的数据通路

### 微程序控制器

一条机器指令对应于`一段微程序`，这个微程序是由`若干个微指令`构成

微程序控制器硬件的基本组成有`控制存储器`、`微地址寄存器`、`微地址形成电路`和`微指令寄存器`

### 组合逻辑控制器

设计一个CPU，一般分成`拟定指令系统`、`确定总体结构`、`安排时序关系`、`形成控制逻辑`

### CPU的功能与组成
控制器的基本功能是`取指令`、`分析指令`和`执行指令`

## 输入输出系统
### 输入输出系统概述

模拟量一般要通过`传感器`及`变换器`变成数字量，才自向CPU传输

按数据传输的宽度可将输入输出接口分为串行接口和并行接口；
按功能选择的灵活性分类，有可编程接口和不可编程接口；
按通用性分类，有通用接口和专用接口；
按输入/输出的信号分类，有数字接口和模拟接口；
按输入输出的控制方式分类，可分为程序直接控制方式接口、程序中断控制方式接口、直接存储器存取方式接口，以及更复杂一些的通道控制方式接口等

在将I/O端口和存储器单元统一编址的计算机中， 用于实现输入输出换作的指令存储器操作指令；
主机与外界交换信息称为输入/输出(I/O)；
访问通道指令根据访问通道程序，执行通道命令；
系统调用指令实现提供所有系统调用构成的集合

### DMA传送方式

状态信息用来标识外设和接口当前所处的`工作状态`

`主存`与`外围设备`可采用DMA方式直接进行数据交换

### 外围设备

CPU与外设交换的数据、状态、及控制信息均是通过`数据总线`传送

### 其他传送控制方式

通道可以完成`启动、停止或改变工作状态`，码制转换、数据块错误检测、数据块错误校正是由CPU完成

### 中断控制方式

通常把计算机中为了实现中断功能而设置的各种软件与硬件称为`中断系统`

### 输入/输出控制方式
在输入输出的控制方式中，`程序中断方式`和`程序直接控制方式`不能实现外设与主存之间直接进行数据传输。

## 存储器与存储系统
### 概述
主存的性能指标主要有：`存储容量`、`存取时间`、`存取周期`和`存储器带宽`

### 高速缓冲存储器

最不经常使用(LFU)替换算法的cache地址映射法有`全相联`和`组相联`

全相联主存的任一块可映射到cache中的`任一块`中

DMA方式是在`不需CPU千预，也不需软件介入`，在这两者之间进行高速数据传送的一种方式

### 虚拟存储器

虚拟存储器解决了`存储容量大`、`存取速度快`、`成本低`三种需求矛盾

### 只读存储器

只读存储器分类：掩模式ROM、一次编程ROM(或PROM)、多次可编程ROM、闪速存储器(flash)。其中闪速存储器(flash)可以构成U盘

EPROM为光擦除可编程的只读存储器；
PROM为一次性可编程的只读存储器；
EPROM为光擦除可编程的只读存储器；
EEPROM为电擦除可编程的只读存储器

## 计算机中的信息表示
### 数值型数据的表示

(1)一个数在计算机内的表示形式称为机器数。

(2)这个数本身的值称为该机器数的真值。

(3)机器数有三种编码：原码、反码和补码。

### 非数值型数据的表示

语音是一种模拟信号，必须经过`采样`和`量化`等`模/数转换`

---

## 中央处理器
### 指令周期

执行一条非访内指令(例如清除累加器的内容)，需要的CPU周期数目是`2`；清除累加器AX的内容应该是用add指令，其中，第一个CPU周期为取指周期，第二个CPU周期为执行周期

### 现代CPU设计技术

计算机采用并行处理技术的目标是`提高运算速度`

### CPU的功能与组成

`CPU周期`又称`机器周期`

## 计算机中的信息表示
### 数值型数据的表示

计算机中数字用`原码表示直观`，`实现乘除运算规则较简单`；`补码`方便地执行正负任意数的加减运算，`实现变减运算为加运算`，`最适合进行数字加减运算`

某计算机系统用32位二进制数表示无符号数,其无符号数的表示范围为：0~2<sup>32</sup>-1；0～2<sup>n</sup>-1，n表示有几位数，2<sup>n</sup>表示2的n次方

### 指令信息的表示

计算机的指令格式的组成包括`操作码`和`地址码`

## 输入输出系统
### 输入输出系统概述

I/O接口的基本功能：`设备选择功能`、`数据缓冲功能`、`具有接收、解释并执行CPU命令的功能`、`联络功能`、`中断管理功能`、`可编程功能`。

输入输出接口的作用有`实现数据缓冲`、`实现数据格式的转换`、`提供I/O设备和接口的状态`

I/O设备通过接口向CPU传送状态信息的总线是`数据总线`

`输入输出指令的功能`包括`置位或复位I/O设备中的某些控制寄存器`、`测试I/O设备的状态`和`传送数据`等

## 存储器与存储系统
### 概述

半导体存储器RAM在`存储器中任何单元可以被随机存取`、`存取时间与存储单元的物理地址无关`、`每个存储单元的存取时间都相同`








## 计算机系统

冯·诺依曼模型计算机的硬件由五大部件组成，分别为`运算器`、`控制器`、`存储器`、`输入设备`和`输出设备`，其核心部分为`中央处理器`(由`运算器`、`控制器`、`存储器`构成)，`使计算机可运行预先存锗的指令序列`

### CPU

确定中断优先级的原则是：对那些提出中断请求后需要立刻处理，否则就会造成严重后果的中断源规定最高的优先级，而对那些可以延迟响应和处理的中断源规定较低的优先级。如故障中断一般优先级较高， 接着才是I/O设备中断，而在IO设备中又可以根据各个设备的速度来决定优先级

CPU接收到中断请求信号后，`当前指令周期结束时`CPU才允许中断(开中)

计算机指令由`操作码`和`地址码`构成

`程序控制`即`指令的执行顺序`。程序中的各指令之间是有严格顺序的，必须严格按程序规定的顺序执行，才能保证计算机系统工作的正确性；
`操作控制`是指一条指令的功能往往是由计算机中的部件执行一系列的操作来实现的。CPU要根据指令的功能，产生相应的操作控制信号，发给相应的部件，从而控制这些部件按指令的要求进行动作；
`时间控制`就是对各种操作实施时间上的定时；
`数据加工`即对数据进行`算术运算和逻辑运算`，或进行其他的信息处理

`取数指令`有`MDR`、`LAD`等；
寄存器间的`数据传送指令`有`MOV`、`PUSH`、`POP`等；
`加法指令`有`ADD`、`ADC`、`AAA`等；
`存数指令`有`STO`等

### 存储器

`存储器地址寄存器`是`用来保存当前CPU所要访问的内存单元或I/设备的地址`

`Cache`是`高速缓冲存储器`，是介于中央处理器和主存储器之间的高速小容量存储器

存储系统通常采用的三级存储器体系结构`高速缓冲存储器`、`主存储器`和`外存储器`

存储器按所处位置及功能分类为`内部存储器`和`外部存储器`；
按存储介质分类为`半导体存储器`、`磁表面存储器`和`光材料存储器`；
按信息的可保护性分类为`易失性存储`、`非易失性存储`；
按存取方式分类，存储器分为：`随机存取存储器`、`只读存储器`、`顺序存取存储器`和`直接存取存储器`

`存储周期时间`是指内部存储器进行两次连续、独立的读(或写)操作所需的时间间隔；
`存取时间`又称`存储器访问时间`，是指从启动一次存储器操作到完成该操作所经历的时间；
`读/写时间`：存储器从接收读出命令到被读出信息稳定在数据寄存器的输出端为止的时间间隔
`刷新时间`是动态存储器定时刷新时间

`关联存储器`(又译作`相联存储器`)也称为按内容访问存储器或简称为TLB；它是一种不根据地址而是`根据存储内容进行`存取的存储器,可以实现快速地查找快表

`段页式虚拟存储器`是段式和页式虚拟存储器结合，每个程序按模块分段，每段再划分页。`一张段表，每段对应有一张页表`

### 寄存器

`指令寄存器`是存放CPU `从内存取出的待执行指令`

`双向移位寄存器`不可同时向左、向右各移—位，它是根据每个时间脉冲依次向左或右移动一个

### 控制器

`控制器`用于控制着整个CPU的工作。通过数据总线，由CPU并行地把数据写入控制器，或从控制器中并行地读出数据

控制器的实现方法类型有`组合逻辑型`、`存储逻辑型`、`门阵列型`

### 输入输出

`DMA方式`是由外围设备和主存之间直接进行数据传输的输入输出的控制方式

程序查询方式接口中的`数据缓冲寄存器`是用来暂存`CPU和外设之间传送的数据`

在外围设备采用独立编址方式的I/O系统中，`专门I/O的指令`用于实现输入输出操作

`异步接口`是指实现CPU与I/O之间的信息交换的接口

### 运算器

运算器主要由`算数逻辑运算部件（ALU）`和用来暂存数据的或存放运算结果的一系列寄存器组件

`算术运算指令`是计算机能够执行的基本数值计算，包括加法ADD、减法SUB、乘法MUL、除法DIV等

`逻辑运算指令`是对数据进行逻辑操作，包括逻辑与AND、逻辑或OR、逻辑非NOT等三种基本操作以及同或、异或等组合逻辑操作

### 软件

MTTR 是衡量计算机性能指标可维护性；
MTBF是衡量计算机可靠性的性能指标；
MIPS是衡量计算机运算速度的性能指标；
主频是CPU内核工作的时钟频率；

ASCII码值在128-255间的ASCII码称作扩展的ASCII码。一个ASCII码值占一个字节(8个二进制位)

汉字编码有输`输入码`、`内码`、`字型码`三种
计算机进行汉字处理，编码为`汉字输入码`；
`汉字内部码`：进行信息处理；
`汉字字型码`：显示器或打印机输出

应用软件有：`办公室软件`、`分析软件`、`互联网软件`和`协作软件`等。

## 二进制、原码、反码、补码

### 原码、反码、补码

计算原码只要在转化的二进制数前面加上相应的符号位就行了
原码：转化为二进制数，在最前面添加一符号位，用1表示负数，0表示正数
0000 0000是一个字节，第一个0为符号位，其它七位表示二进制的值

当X为正数时，[X]<sub>补</sub> = [X]<sub>原</sub> = X

当X为负数时，[X]<sub>补</sub>等于把[X]<sub>原</sub>符号位外的各位求反后再末位加"1"，已知[X]<sub>补</sub>，也可以通过对其除符号位外的各位求反后再末位加"1"求得[X]<sub>原</sub>

[+0]原码=0000 0000 [-0]原码=1000 0000
[+0]反码=0000 0000 [-0]反码=1111 1111
[+0]补码=0000 0000 [-0]补码=0000 0000

[-1]原码=1000 0001
[-1]反码=1111 1110
[-1]补码=1111 1111

### 变形补码
变形补码，即用两个二进制位来表示数字的符号位，其余与补码相同

用“00”表示正，用“11”表示负

当运算结果的符号位出现“01”或者“10”时，则表示产生溢出

变形补码的最高位（第一个符号位）总是表示正确的符号，比如"00"、 “01”分别表示正数、正溢出（上溢），"11"、“10”表示负数、负溢出（下溢）

定点补码加法运算采用变形补码检测法时，表明数据发生了溢出的是`两个符号位不同`

#### 己知二进制数x=-01111，y=+11001，用变形补码（双符号位）计算x-y，同时指出运算结果是否溢出

```
[x]补 = 11 10001   （1 分）

[-y]补 = 11 00111   （1 分）

[x]补       11 10001
[-y]补     +11 00111
────────────────
[x-y]补    =10 11000   （1 分）

符号位的代码为10，表示运算结果发生"负溢"   （1 分）
```

原码：实现乘除运算规则较简单

补数：方便地执行正负任意数的加减运算，实现变减运算为加运算

### 二进制

#### 计算机为什么用二进制数？

- 容易实现，二进制在技术上最容易实现，可以用任何一个具有两种不同稳定状态的 物理器件来表示两个数码“0”或者“1” 。 （2 分）
- 工作可靠。由于采用两种稳定状态来表示数码，因此在采用这类元器件制造的计算 机中，就可以用电平的“高”、“低”或脉冲的“有”、“无”来分别传送和处理数据“1” 和“0”。这种简单工作状态的计算机具有工作可靠、抗干扰能力强的特点。（1 分）
- 运算简单。二进制运算规则非常简单，操作实现简便，从而简化了计算机内部运算、 寄存器的线路，提高了机器的运算速度。 （1 分）
- 便于逻辑运算与逻辑设计。二进制中的 0 和 1 数字与逻辑代数的 0 和 1 值吻合，所 以计算机可以方便地用二进制数进行逻辑运算与逻辑设计，并且可以使用逻辑代数 这一数学工具对计算机逻辑线路进行分析和综合，便于机器结构的简化。（1 分）

### 整数：除2取余
#### -27可以用字长为8位的补码表示为：11100101

```
2 │ 27        取余数
  └───────────     低位
   2 │ 13       1   ↑
     └────────     高位
   2 │ 6        1
     └────────
   2 │ 3        0
     └────────
   2 │ 1        1
     └────────
       0        1
```

取补码：10011011 → *11100101*

### 小数：乘2取整

#### 14.35转换成二进制数

```
2 │ 14
  └───────────
   2 │ 7       1
     └────────
   2 │ 3       1
     └────────
   2 │ 1       1
     └────────
       0       1
```

```
    0.35
  ×    2    取整数
─────────
    0.70      0    高位
  ×    2            ↓
─────────          低位
    1.40      1
  ×    2
─────────
    0.80      0
  ×    2
─────────
    1.60      1
  ×    2
─────────
    1.20      1
```

(14.35)<sub>10</sub> = (1111.01011)<sub>2</sub>

## 逻辑计算

### 异或(eor) ⊕

1真，0假

| a | b | a⊕b | a·b | a+b |
| ---- | ---- | ---- | ---- | ---- |
| 0 | 0 | 0 | 0 | 0 |
| 0 | 1 | 1 | 0 | 1 |
| 1 | 0 | 1 | 0 | 1 |
| 1 | 1 | 0 | 1 | 1 |

### 真值表

用真值表证明下式成立：A+BC=(A+B)(A+C)

真值表(3分):

| A | B | C | BC | A+BC | A+B | A+C | (A+B)(A+C) |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 0 | 0 | 1 | 0 | 0 | 0 | 1 | 0 |
| 0 | 1 | 0 | 0 | 0 | 1 | 0 | 0 |
| 0 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |
| 1 | 0 | 0 | 0 | 1 | 1 | 1 | 1 |
| 1 | 0 | 1 | 0 | 1 | 1 | 1 | 1 |
| 1 | 1 | 0 | 0 | 1 | 1 | 1 | 1 |
| 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

从真值表可知，A+BC=(A+B)(A+C)    (1分)



## 未归类

硬件乘法器，其基础就是加法器结构，基于“左移位和相加”的算法

### 应用软件有：办公室软件、分析软件、互联网软件和协作软件等
